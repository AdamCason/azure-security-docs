### YamlMime:FAQ
metadata:
  title: 'Microsoft Defender for Cloud FAQ - Questions about just-in-time (JIT) VM access'
  description: Frequently asked questions about just-in-time (JIT) VM access in Microsoft Defender for Cloud, a product that provides just-in-time (JIT) VM access feature and the logic behind the recommendation.
  services: defender-for-cloud
  ms.author: elkrieger 
  author: elazark
  manager: raynew
  ms.topic: faq
  ms.date: 06/12/2023
title: FAQ - Questions about just-in-time (JIT) VM access
summary: |

sections:
  - name: Ignored
    questions:
      - question: |
          What permissions are needed to configure and use JIT?
        answer: |
          JIT Requires [Microsoft Defender for Servers Plan 2](plan-defender-for-servers-select-plan.md#plan-features) to be enabled on the subscription. 

          **Reader** and **SecurityReader** roles can both view the JIT status and parameters.

          If you want to create custom roles that can work with JIT, you'll need the details from the table below.

          If you are setting up JIT on your Amazon Web Service (AWS) VM, you will need to [connect your AWS account](quickstart-onboard-aws.md) to Microsoft Defender for Cloud.

          > [!TIP]
          > To create a least-privileged role for users that need to request JIT access to a VM, and perform no other JIT operations, use the [Set-JitLeastPrivilegedRole script](https://github.com/Azure/Azure-Security-Center/tree/main/Powershell%20scripts/JIT%20Scripts/JIT%20Custom%20Role) from the Defender for Cloud GitHub community pages.

          | To enable a user to: | Permissions to set|
          | --- | --- |
          |Configure or edit a JIT policy for a VM | *Assign these actions to the role:*  <ul><li>On the scope of a subscription or resource group that is associated with the VM:<br/> `Microsoft.Security/locations/jitNetworkAccessPolicies/write` </li><li> On the scope of a subscription or resource group of VM: <br/>`Microsoft.Compute/virtualMachines/write`</li></ul> | 
          |Request JIT access to a VM | *Assign these actions to the user:*  <ul><li> `Microsoft.Security/locations/jitNetworkAccessPolicies/initiate/action` </li><li> `Microsoft.Security/locations/jitNetworkAccessPolicies/*/read` </li><li> `Microsoft.Compute/virtualMachines/read` </li><li> `Microsoft.Network/networkInterfaces/*/read` </li> <li> `Microsoft.Network/publicIPAddresses/read` </li></ul> |
          |Read JIT policies| *Assign these actions to the user:*  <ul><li>`Microsoft.Security/locations/jitNetworkAccessPolicies/read`</li><li>`Microsoft.Security/locations/jitNetworkAccessPolicies/initiate/action`</li><li>`Microsoft.Security/policies/read`</li><li>`Microsoft.Security/pricings/read`</li><li>`Microsoft.Compute/virtualMachines/read`</li><li>`Microsoft.Network/*/read`</li>|

          > [!NOTE]
          > Only the `Microsoft.Security` permissions are relevant for AWS.

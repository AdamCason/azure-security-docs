---
title: Find vulnerabilities in your Azure SQL databases without a storage account using Microsoft Defender for Cloud
description: Learn how to find software vulnerabilities with the express configuration on Azure SQL Database, Azure SQL Managed Instance, and Azure Synapse Analytics.
author: bmansheim
ms.author: benmansheim
ms.reviewer: wiassaf, vanto, mathoma
ms.date: 10/06/2022
ms.service: defender-for-cloud
ms.topic: how-to
ms.custom: sqldbrb=3
tags: azure-synapse
---

# Find vulnerabilities in your Azure SQL databases without a storage account (Express)

## Permissions

One of the following permissions is required to see vulnerability assessment results in the Microsoft Defender for Cloud recommendation SQL databases should have vulnerability findings resolved:

- Security Admin
- Security Reader

The following permissions are required to changes vulnerability assessment settings:

- SQL Security Manager

If you are receiving any automated emails with links to scan results the following permissions are required to access the links about scan results or to view scan results at the resource-level:

- SQL Security Manager

## Data residency

SQL Vulnerability Assessment queries the SQL server using publicly available queries under Defender for Cloud recommendations for SQL Vulnerability Assessment, and stores the query results. SQL Vulnerability Assessment data is stored in the location of the logical server it is configured on. For example, if the user enabled vulnerability assessment on a logical server in West Europe, the results will be stored in West Europe. This data will be collected only if the SQL Vulnerability Assessment solution is configured on the logical server.

## On-demand vulnerability scans

1. SQL vulnerability assessment scans can also be run on-demand:

    1. From the resource's **Defender for Cloud** page, select **View additional findings in Vulnerability Assessment** to access the scan results from previous scans.

        :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/view-additional-findings-link.png" alt-text="Opening the scan results and manual scan options.":::

    1. To run an on-demand scan to scan your database for vulnerabilities, select **Scan** from the toolbar:

        :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/on-demand-vulnerability-scan.png" alt-text="Select scan to run an on-demand vulnerability assessment scan of your SQL resource":::


  > [!NOTE]
  > The scan is lightweight and safe. It takes a few seconds to run and is entirely read-only. It doesn't make any changes to your database.

## Remediate vulnerabilities

When a vulnerability scan completes, the report is displayed in the Azure portal. The report presents:

- An overview of your security state
- The number of issues that were found
- A summary by severity of the risks
- A list of the findings for further investigations

:::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/sample-sql-vulnerabilities-report.png" alt-text="Sampl scan report from the SQL vulnerability assessment scanner":::

To remediate the vulnerabilities discovered:

1. Review your results and determine which of the report's findings are true security issues for your environment.

1. Select each failed result to understand its impact and why the security check failed.

    > [!TIP]
    > The findings details page includes actionable remediation information explaining how to resolve the issue.

    :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/examining-vulnerability-findings.gif" alt-text="Examining the findings from a vulnerability scan":::

1. As you review your assessment results, you can mark specific results as being an acceptable *baseline* in your environment. A baseline is essentially a customization of how the results are reported. In subsequent scans, results that match the baseline are considered as passes. After you've established your baseline security state, vulnerability assessment only reports on deviations from the baseline. In this way, you can focus your attention on the relevant issues.

    :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/baseline-approval.png" alt-text="Approving a finding as a baseline for future scans":::

1. Any findings you've added to the baseline will now appear as **Passed** with an indication that they've passed because of the baseline changes. There is no need to run another scan for the baseline to take effect. 

    :::image type="content" source="media/defender-for-sql-azure-vulnerability-assessment/passed-per-custom-baseline.png" alt-text="Passed assessments indicating they've passed per custom baseline":::

Your vulnerability assessment scans can now be used to ensure that your database maintains a high level of security, and that your organizational policies are met.

## Next steps  

- Learn more about [Microsoft Defender for Azure SQL](defender-for-sql-introduction.md).
- Learn more about [data discovery and classification](/azure/azure-sql/database/data-discovery-and-classification-overview.md).
- Learn more about [Storing vulnerability assessment scan results in a storage account accessible behind firewalls and VNets](/azure/azure-sql/database/sql-database-vulnerability-assessment-storage.md).
